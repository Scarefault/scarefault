#!/bin/bash

RESULT_FILE="../../log/scarefault.log"
EXPECT_FILE=$1

RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[0;33m'
BLUE='\033[0;34m'
BOLD_RED='\033[1;31m'
BOLD_GREEN='\033[1;32m'
BOLD_YELLOW='\033[1;33m'
BOLD_BLUE='\033[1;34m'
RESET='\033[0;0m'

iterator=1

cat $RESULT_FILE | cut -f2-3 | while read result; do
  expect=$(sed "${iterator}q;d" $EXPECT_FILE)

  if [ "$result" = "$expect" ]; then
    echo -e "${iterator}\t[  ${BOLD_GREEN}OK${RESET}  ]" >> out
  else
    echo -e "${iterator}\t[ ${BOLD_RED}FAIL${RESET} ]" >> out
    echo -e "\t\t ${BOLD_YELLOW}Expect:${YELLOW} $expect${RESET}" >> out
    echo -e "\t\t ${BOLD_YELLOW}Result:${YELLOW} $result${RESET}" >> out
  fi

  let iterator=iterator+1
done

cat out
rm out
